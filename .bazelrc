# Address sanitizer
build:asan --strip=never
build:asan --copt -fsanitize=address
build:asan --copt -O1
build:asan --copt -fno-omit-frame-pointer
build:asan --linkopt -fsanitize=address

# Thread sanitizer
build:tsan --strip=never
build:tsan --copt -fsanitize=thread
build:tsan --copt -pie
build:tsan --copt -O2
build:tsan --copt -g
build:tsan --copt -fno-omit-frame-pointer
build:tsan --linkopt -fsanitize=thread
build:tsan --linkopt -pie
build:tsan --linkopt -ltsan

# Release builds
build:release -c opt

# Add compile option for all C++ files
build --cxxopt -Wnon-virtual-dtor
build --cxxopt -Wformat
build --cxxopt -Wformat-security

fetch --incompatible_remove_native_git_repository=false
fetch --incompatible_remove_native_http_archive=false
fetch --incompatible_package_name_is_a_function=false

build --incompatible_remove_native_git_repository=false
build --incompatible_remove_native_http_archive=false
build --incompatible_package_name_is_a_function=false

